{% extends "base_public.html" %}
{% block title %}Iniciar Sesión - Nutripy{% endblock %}

{% block content %}
<div class="formulario">
  <div class="titulo-login">Iniciar Sesión</div>

  {% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}
      {% for category, message in messages %}
        <div id="flash-message" class="alert alert-{{ category }} alert-dismissible fade show" role="alert">
          <span class="flash-text">{{ message }}</span>
          <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Cerrar"></button>
        </div>
      {% endfor %}
    {% endif %}
  {% endwith %}

  <form method="POST" action="{{ url_for('login') }}">
    <label for="username">Usuario:</label>
    <input type="text" id="username" name="username" required>

    <label for="password">Contraseña:</label>
    <input type="password" id="password" name="password" required>

    <button type="submit">Entrar</button>
  </form>

  <div class="login-links">
    <p>¿No tenés cuenta? <a href="{{ url_for('registro') }}">Crear cuenta</a></p>
    <p>¿Olvidaste tu contraseña? <a href="{{ url_for('reset') }}">Restablecer</a></p>
  </div>
</div>
{% endblock %}
